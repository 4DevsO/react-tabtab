!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("styled-components"),require("react-poppop"),require("react-sortable-hoc")):"function"==typeof define&&define.amd?define(["react","styled-components","react-poppop","react-sortable-hoc"],e):n.Tabtab=e(n.React,n.styled,n.PopPop,n.SortableHOC)}(this,function(n,e,t,o){"use strict";var r=n.default,i="default"in e?e.default:e;t=t&&t.hasOwnProperty("default")?t.default:t;!function(){function n(n){this.value=n}function e(e){function t(r,i){try{var l=e[r](i),a=l.value;a instanceof n?Promise.resolve(a.value).then(function(n){t("next",n)},function(n){t("throw",n)}):o(l.done?"return":"normal",l.value)}catch(n){o("throw",n)}}function o(n,e){switch(n){case"return":r.resolve({value:e,done:!0});break;case"throw":r.reject(e);break;default:r.resolve({value:e,done:!1})}(r=r.next)?t(r.key,r.arg):i=null}var r,i;this._invoke=function(n,e){return new Promise(function(o,l){var a={key:n,arg:e,resolve:o,reject:l,next:null};i?i=i.next=a:(r=i=a,t(n,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(n){return this._invoke("next",n)},e.prototype.throw=function(n){return this._invoke("throw",n)},e.prototype.return=function(n){return this._invoke("return",n)}}();var l=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),c=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},s=function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},u=function(n,e){var t={};for(var o in n)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},d=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e},h=function(n,e){return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))},p=function(e){function t(n){l(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return e.handleTabChange=e.handleTabChange.bind(e),e.handleTabSequence=e.handleTabSequence.bind(e),e.handleEdit=e.handleEdit.bind(e),e.state={activeIndex:e.getActiveIndex(n)},e}return s(t,e),a(t,[{key:"getActiveIndex",value:function(n){var e=n.defaultIndex,t=n.activeIndex;return t||(e||0)}},{key:"componentWillReceiveProps",value:function(n){n.activeIndex!==this.props.activeIndex&&this.setState({activeIndex:n.activeIndex})}},{key:"handleTabChange",value:function(n){var e=this.props,t=e.activeIndex,o=e.onTabChange;0===t||t||this.setState({activeIndex:n}),o&&o(n)}},{key:"handleTabSequence",value:function(n){var e=n.oldIndex,t=n.newIndex,o=this.props.onTabSequenceChange;o&&o({oldIndex:e,newIndex:t})}},{key:"handleEdit",value:function(n){var e=n.type,t=n.index,o=this.props.onTabEdit;o&&o({type:e,index:t})}},{key:"render",value:function(){var e=this.props,t=e.children,o=u(e,["children"]),r=this.state.activeIndex,i=c({handleTabChange:this.handleTabChange,handleTabSequence:this.handleTabSequence,handleEdit:this.handleEdit,activeIndex:r},o);return n.createElement("div",null,n.Children.map(t,function(e){return n.cloneElement(e,i)}))}}]),t}(n.Component);p.defaultProps={showModalButton:4,showArrowButton:"auto",onTabChange:function(){},onTabSequenceChange:function(){},customStyle:{TabList:null,Tab:null,Panel:null,ActionButton:null}};var f=function(n,e,t,o,r,i,l,a){if(!n){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[t,o,r,i,l,a],u=0;(c=new Error(e.replace(/%s/g,function(){return s[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},b=function(n){var e=n.children;return r.createElement("svg",{viewBox:"0 0 40 40",fill:"currentColor",height:"1em",width:"1em",style:{verticalAlign:"middle"}},e)},v=function(){return r.createElement(b,null,r.createElement("g",null,r.createElement("path",{d:"m31.6 10.7l-9.3 9.3 9.3 9.3-2.3 2.3-9.3-9.3-9.3 9.3-2.3-2.3 9.3-9.3-9.3-9.3 2.3-2.3 9.3 9.3 9.3-9.3z"})))},g=function(){return r.createElement(b,null,r.createElement("g",null,r.createElement("path",{d:"m25.7 12.3l-7.7 7.7 7.7 7.7-2.3 2.3-10-10 10-10z"})))},m=function(){return r.createElement(b,null,r.createElement("g",null,r.createElement("path",{d:"m16.6 10l10 10-10 10-2.3-2.3 7.7-7.7-7.7-7.7z"})))},y=function(){return r.createElement(b,null,r.createElement("g",null,r.createElement("path",{d:"m31.7 28.3h-23.4c-1.8 0-3.3 1.5-3.3 3.4s1.5 3.3 3.3 3.3h23.4c1.8 0 3.3-1.5 3.3-3.3s-1.5-3.4-3.3-3.4z m0-11.6h-23.4c-1.8 0-3.3 1.5-3.3 3.3s1.5 3.3 3.3 3.3h23.4c1.8 0 3.3-1.5 3.3-3.3s-1.5-3.3-3.3-3.3z m0-11.7h-23.4c-1.8 0-3.3 1.5-3.3 3.3s1.5 3.4 3.3 3.4h23.4c1.8 0 3.3-1.5 3.3-3.4s-1.5-3.3-3.3-3.3z"})))},x=function(n){function e(n){l(this,e);var t=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return t.onSortEnd=t.onSortEnd.bind(t),t}return s(e,n),a(e,[{key:"onSortEnd",value:function(n){var e=n.oldIndex,t=n.newIndex,o=this.props,r=o.activeIndex,i=o.handleTabChange,l=o.handleTabSequence;e===t?r!==e&&i(e):l({oldIndex:e,newIndex:t})}}]),e}(n.Component),k=o.SortableContainer(function(e){var t=e.children;return n.createElement("div",{style:{marginTop:"50px"}},t)}),w=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,x),a(t,[{key:"render",value:function(){return n.createElement(k,{onSortEnd:this.onSortEnd,axis:"y",lockAxis:"y",distance:2},this.props.children)}}]),t}(),E=function(e){function o(){return l(this,o),d(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return s(o,e),a(o,[{key:"render",value:function(){return n.createElement(t,{open:!0,onClose:this.props.closeModal,closeOnEsc:!0,closeBtn:!0},n.createElement(w,{handleTabSequence:this.props.handleTabSequence,handleTabChange:this.props.handleTabChange,activeIndex:this.props.activeIndex},this.props.children))}}]),o}(n.Component),_=h(["\n  background-color: white;\n  text-align: left;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n  width: auto;\n  border-bottom: 1px solid #eee;\n  padding: ",";\n"],["\n  background-color: white;\n  text-align: left;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n  width: auto;\n  border-bottom: 1px solid #eee;\n  padding: ",";\n"]),T=h(["\n  overflow: hidden;\n"],["\n  overflow: hidden;\n"]),S=h(["\n  padding-left: 0;\n  position: relative;\n  margin: 0;\n  list-style: none;\n  display: inline-block;\n  transition: transform .3s cubic-bezier(.42, 0, .58, 1);\n"],["\n  padding-left: 0;\n  position: relative;\n  margin: 0;\n  list-style: none;\n  display: inline-block;\n  transition: transform .3s cubic-bezier(.42, 0, .58, 1);\n"]),C=h(["\n  height: 100%;\n  width ","px;\n  text-align: center;\n  border: 1px solid #d9d9d9;\n  border-bottom: 0;\n  border-radius: 4px 4px 0 0;\n  background: #f9f9f9;\n  > svg {\n    padding-top: 11px;\n  }\n"],["\n  height: 100%;\n  width ","px;\n  text-align: center;\n  border: 1px solid #d9d9d9;\n  border-bottom: 0;\n  border-radius: 4px 4px 0 0;\n  background: #f9f9f9;\n  > svg {\n    padding-top: 11px;\n  }\n"]),I=h(["\n  display: inline-block;\n  filter: none;\n  position: absolute;\n  ",";\n  &:hover {\n    cursor: pointer;\n  }\n"],["\n  display: inline-block;\n  filter: none;\n  position: absolute;\n  ",";\n  &:hover {\n    cursor: pointer;\n  }\n"]),O=h(["\n  display: inline-block;\n  filter: none;\n  position: absolute;\n  left: 0;\n  &:hover {\n    cursor: pointer;\n  }\n"],["\n  display: inline-block;\n  filter: none;\n  position: absolute;\n  left: 0;\n  &:hover {\n    cursor: pointer;\n  }\n"]),B=i.div(_,function(n){return function(n){var e=n.showModalButton,t=n.showArrowButton,o=0,r=0;return e&&(o+=35),t&&(o+=35,r+=35,e&&(o+=2)),o>0&&(o+=3),r>0&&(r+=3),"0 "+r+"px 0 "+o+"px"}(n)}),P=i.div(T),A=i.div(S),R=i.div(C,35),N=function(e){function t(n){l(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return e.handleScroll=e.handleScroll.bind(e),e.toggleModal=e.toggleModal.bind(e),e.renderTabs=e.renderTabs.bind(e),e.isShowModalButton=e.isShowModalButton.bind(e),e.scrollPosition=0,e.tabRefs=[],e.state={modalIsOpen:!1,showArrowButton:!1,showModalButton:!1},e}return s(t,e),a(t,[{key:"componentDidMount",value:function(){this.isShowArrowButton(),this.isShowModalButton()}},{key:"componentDidUpdate",value:function(n,e){n.children.length!==this.props.children.length&&(this.isShowArrowButton(),this.isShowModalButton()),n.activeIndex!==this.props.activeIndex&&n.children.length<this.props.children.length&&this.scrollToIndex(this.props.activeIndex),e.showArrowButton&&!this.state.showArrowButton&&this.scrollToZero()}},{key:"getTabNode",value:function(n){return n.__INTERNAL_NODE?n.__INTERNAL_NODE:n.__DRAG_TAB_INTERNAL_NODE?n.__DRAG_TAB_INTERNAL_NODE.node:void 0}},{key:"unifyScrollMax",value:function(n){return parseFloat(n/3*2)}},{key:"handleScroll",value:function(n){var e=0,t=this.listContainer.getBoundingClientRect(),o=this.listContainer.offsetWidth,r=this.getTabNode(this.tabRefs[0]).getBoundingClientRect(),i=this.getTabNode(this.tabRefs[this.tabRefs.length-1]).getBoundingClientRect();"right"===n?(e=i.right-t.right)>o&&(e=this.unifyScrollMax(o)):"left"===n&&-(e=r.left-t.left)>o&&(e=-this.unifyScrollMax(o)),this.scrollPosition+=e,this.scrollPosition<0&&(this.scrollPosition=0),this.listScroll.style.transform="translate3d(-"+this.scrollPosition+"px, 0, 0)"}},{key:"scrollToIndex",value:function(n){var e=this.getTabNode(this.tabRefs[n]).getBoundingClientRect(),t=this.listContainer.getBoundingClientRect(),o=e.right-t.right;this.scrollPosition+=o,this.scrollPosition<0&&(this.scrollPosition=0),this.listScroll.style.transform="translate3d(-"+this.scrollPosition+"px, 0, 0)"}},{key:"scrollToZero",value:function(){this.listScroll.style.transform="translate3d(0, 0, 0)"}},{key:"toggleModal",value:function(n){var e=this;this.setState({modalIsOpen:n},function(){n||e.scrollToIndex(e.props.activeIndex)})}},{key:"isShowModalButton",value:function(){var n=this.props.showModalButton;(function(n){return!isNaN(parseInt(n,10))})(n)&&(n=this.props.children.length>=n),this.setState({showModalButton:n})}},{key:"isShowArrowButton",value:function(){var n=this.props.showArrowButton;if("auto"===n){var e=0,t=this.listContainer.offsetWidth;n=!1;for(var o=0;o<this.tabRefs.length;o++){if((e+=this.getTabNode(this.tabRefs[o]).offsetWidth)>=t){n=!0;break}}}this.setState({showArrowButton:n})}},{key:"renderTabs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1],r=this.props,i=r.children,l=r.activeIndex,a={handleTabChange:r.handleTabChange,handleEdit:r.handleEdit,CustomTabStyle:r.customStyle.Tab};return o||(this.tabRefs=[]),n.Children.map(i,function(r,i){return n.cloneElement(r,c({key:i,active:i===l,index:i,tabIndex:i,ref:function(n){!o&&n&&e.tabRefs.push(n)}},a,t))})}},{key:"render",value:function(){var e=this,t=this.props,o=t.customStyle,r=t.activeIndex,i=t.handleTabChange,l=t.handleTabSequence,a=t.ExtraButton,c=this.state.modalIsOpen,s=o.TabList||B,u=o.ActionButton||R,d=function(n){return n.extend(O)}(u),h=function(n){return n.extend(I,function(n){return n.left?n.showModalButton?"left: 37px":"left: 0":"right: 0"})}(u);return f(this.props.children,"React-tabtab Error: You MUST pass at least one tab"),n.createElement("div",null,a||null,n.createElement(s,{hasExtraButton:!!a,showModalButton:this.state.showModalButton,showArrowButton:this.state.showArrowButton},this.state.showModalButton?n.createElement(d,{innerRef:function(n){return e.foldNode=n},onClick:this.toggleModal.bind(this,!0),showArrowButton:this.state.showArrowButton},n.createElement(y,null)):null,this.state.showArrowButton?n.createElement("div",null,n.createElement(h,{left:!0,onClick:function(){e.handleScroll("left")},innerRef:function(n){return e.leftArrowNode=n},showModalButton:this.state.showModalButton},n.createElement(g,null)),n.createElement(h,{onClick:function(){e.handleScroll("right")},innerRef:function(n){return e.rightArrowNode=n}},n.createElement(m,null))):null,n.createElement(P,{innerRef:function(n){return e.listContainer=n}},n.createElement(A,{innerRef:function(n){return e.listScroll=n}},this.renderTabs()))),c?n.createElement(E,{closeModal:this.toggleModal.bind(this,!1),handleTabSequence:l,handleTabChange:i,activeIndex:r},this.renderTabs({vertical:!0},!0)):null)}}]),t}(n.Component);N.displayName="TabList";var M=h(["\n  display: inline-block;\n  color: #777;\n  margin-left: 3px;\n  padding-bottom: 2px;\n  vertical-align: middle;\n  transition: background-color .2s cubic-bezier(.645, .045, .355, 1);\n  &:hover {\n    color: black;\n    background-color: #eee;\n    cursor: pointer;\n  }\n  > svg {\n    vertical-align: middle;\n  }\n"],["\n  display: inline-block;\n  color: #777;\n  margin-left: 3px;\n  padding-bottom: 2px;\n  vertical-align: middle;\n  transition: background-color .2s cubic-bezier(.645, .045, .355, 1);\n  &:hover {\n    color: black;\n    background-color: #eee;\n    cursor: pointer;\n  }\n  > svg {\n    vertical-align: middle;\n  }\n"]),j=i.div(M),D=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){return n.createElement(j,{onClick:this.props.handleDelete},n.createElement(v,null))}}]),t}(n.Component),z=h(["\n  display: ",";\n  color: ",";\n  border-top-left-radius: .25rem;\n  border-top-right-radius: .25rem;\n  border: 1px solid transparent;\n  ","\n  ","\n  ","\n  transition: color .3s cubic-bezier(.645, .045, .355, 1);\n  transition: background-color .3s cubic-bezier(.645, .045, .355, 1);\n  user-select: none;\n  &:hover {\n    cursor: pointer;\n    color: black;\n    border-color: #ddd #ddd #fff;\n  }\n"],["\n  display: ",";\n  color: ",";\n  border-top-left-radius: .25rem;\n  border-top-right-radius: .25rem;\n  border: 1px solid transparent;\n  ","\n  ","\n  ","\n  transition: color .3s cubic-bezier(.645, .045, .355, 1);\n  transition: background-color .3s cubic-bezier(.645, .045, .355, 1);\n  user-select: none;\n  &:hover {\n    cursor: pointer;\n    color: black;\n    border-color: #ddd #ddd #fff;\n  }\n"]),q=i.div(z,function(n){return n.vertical?"block":"inline-block"},function(n){return n.active?"black":"#007bff"},function(n){return n.vertical?"\n      border-bottom: 1px solid #efefef;\n      border-left: 1px solid #efefef;\n      border-right: 1px solid #efefef;\n      background-color: white;\n      padding: 10px 10px;\n      &:first-child {\n        border-top: 1px solid #efefef;        \n      }\n    ":function(n){return n.closable?"padding: 10px 10px 10px 15px;":"padding: 10px 15px;"}},function(n){return n.active&&n.vertical?"\n      background-color: #eee;\n    ":null},function(n){return n.active&&!n.vertical?"\n      border-color: #ddd #ddd #fff;\n    ":null}),L=function(e){function t(n){l(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return e.clickTab=e.clickTab.bind(e),e.clickDelete=e.clickDelete.bind(e),e}return s(t,e),a(t,[{key:"clickTab",value:function(){var n=this.props;(0,n.handleTabChange)(n.index)}},{key:"clickDelete",value:function(n){n.stopPropagation();var e=this.props;(0,e.handleEdit)({type:"delete",index:e.index})}},{key:"render",value:function(){var e=this,t=this.props,o=t.CustomTabStyle,r=t.active,i=t.closable,l=t.vertical,a=o||q;return n.createElement(a,{innerRef:function(n){return e.__INTERNAL_NODE=n},onClick:this.clickTab,active:r,vertical:l,closable:i},this.props.children,i?n.createElement(D,{handleDelete:this.clickDelete}):null)}}]),t}(n.Component);L.displayName="Tab";var W=o.SortableContainer(function(n){var e=n.children,t=u(n,["children"]);return r.createElement(N,t,e)}),G=function(n){function e(){return l(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,x),a(e,[{key:"render",value:function(){var n=this.props,e=n.children,t=u(n,["children"]);return r.createElement(W,c({onSortEnd:this.onSortEnd,axis:"x",lockAxis:"x",distance:2},t),e)}}]),e}();G.displayName="DragTabList";var U=o.SortableElement(function(e){var t=e.children,o=u(e,["children"]);return n.createElement(L,c({index:o.tabIndex},o),t)}),Z=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.children,r=u(t,["children"]);return n.createElement(U,c({ref:function(n){return e.__DRAG_TAB_INTERNAL_NODE=n}},r),o)}}]),t}(n.Component);Z.displayName="DragTab";var F=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.children,o=e.activeIndex,r=e.customStyle;if(!t||void 0===o)return null;var i={activeIndex:o};r&&r.Panel&&(i=c({},i,{CustomPanelStyle:r.Panel}));var l=t[o];return n.createElement("div",null,n.cloneElement(l,i))}}]),t}(n.Component),H=h(["\n  from {\n    transform: scale(1);\n    opacity: 1;\n  }\n\n  to {\n    transform: scale(.25);\n    opacity: 0;\n  }\n"],["\n  from {\n    transform: scale(1);\n    opacity: 1;\n  }\n\n  to {\n    transform: scale(.25);\n    opacity: 0;\n  }\n"]),V=h(["\n  background-color: white;\n  text-align: left;\n  padding: 20px 15px;\n  animation: "," 0.2s linear;\n  transition: all 1s linear;\n"],["\n  background-color: white;\n  text-align: left;\n  padding: 20px 15px;\n  animation: "," 0.2s linear;\n  transition: all 1s linear;\n"]),Y=e.keyframes(H),J=i.div(V,Y),K=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){var e=this.props.CustomPanelStyle||J;return n.createElement(e,null,this.props.children)}}]),t}(n.Component),Q=h(["\n  float: right;\n  border: 1px solid #eee;\n  border-radius: 2px;\n  padding: 3px;\n  margin-top: 10px;\n  margin-left: 2px;\n  display: inline-block;\n  color: #777;\n  vertical-align: middle;\n  transition: background-color .2s cubic-bezier(.645, .045, .355, 1);\n  &:hover {\n    color: black;\n    cursor: pointer;\n  }\n"],["\n  float: right;\n  border: 1px solid #eee;\n  border-radius: 2px;\n  padding: 3px;\n  margin-top: 10px;\n  margin-left: 2px;\n  display: inline-block;\n  color: #777;\n  vertical-align: middle;\n  transition: background-color .2s cubic-bezier(.645, .045, .355, 1);\n  &:hover {\n    color: black;\n    cursor: pointer;\n  }\n"]),X=i.div(Q),$=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){return n.createElement(X,{onClick:this.props.onClick},n.createElement("div",null,this.props.children))}}]),t}(n.Component);return{Tabs:p,TabList:N,Tab:L,DragTabList:G,DragTab:Z,PanelList:F,Panel:K,ExtraButton:$,styled:{TabListStyle:B,ActionButtonStyle:R,TabStyle:q,PanelStyle:J}}});
